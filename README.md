# Installation

## 1. Install JAVA (at least v 1.6)

For example on Ubuntu:

``sudo apt-get install default-jdk``

set the ``JAVA_HOME`` environment variable

- Get path where Java is installed (and where you can find javac too): ``sudo update-alternatives --config javac``. Take the path before the *bin* directory: ``<path>/bin/javac``
- Set it in your ``.bashrc`` (or put it in ``/etc/environment`` instead): ``echo 'export JAVA_HOME="<your path to javac>"' >> ~/.bashrc``
- ``source ~/.bashrc``

## 2. Install Apache ANT for a more convenient build

- ``sudo apt-get install ant``
- Test it's properly installed with ``ant -version``

## 3. Install ANTLR

For parsing PDDL files, parser code can be generated with [ANTLR](https://github.com/antlr/).
The parser provided in ``src/antlr_parser`` will need the parser files generated by ANTLR,
so you will need to install ANTLR in order to use it.

Currently, version 3.5 of Antlr is required
(version 4 is not supported for the PDDL domain provided yet... PRs for this are very welcome!).

You can get ANTLR from [www.antlr3.org](http://www.antlr3.org/download.html).
You will need download the "complete Java binaries jar" file
(you won't need the version with the legacy code).
Or, simply use the copy provided with this repository in the *libs/jar* directory (which the approach taken in the following).

# Building

First, you need to generate the parser code with ANTLR using the file Pddl.g, which is a modified version of
[the Pddl.g by Zeyn Saigol](https://github.com/antlr/grammars-v3/blob/master/pddl/Pddl.g),
which has been adapted to support newer PDDL elements.

To generate the parser code:

```
cd <your-path-to-this-repo>/PDDL4J
java -jar libs/jar/antlr-3.5.2-complete-no-st3.jar -o antlr_gen Pddl.g``
```

This will have created a directory ``antlr_gen`` which contains the parser code.

Now, you can build PDDL4J by just typing ``ant`` while still in the PPDL4J directory.

```
ant
```
